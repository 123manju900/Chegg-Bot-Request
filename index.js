var fetch = require('node-fetch');
var toHTML = require(__dirname+'/utils/toHTML.js')
const cheerio = require('cheerio');


let start_time = new Date().getTime();



fetch('https://www.chegg.com/homework-help/questions-and-answers/following-items-find-required-solution-1-weight-8-lbf-attached-end-vertical-spring-stretch-q77655211', {
    headers: {
        'Host': 'www.chegg.com',
        'cache-control': 'max-age=0',
        'upgrade-insecure-requests': '1',
        'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36',
        'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9',
        'sec-gpc': '1',
        'sec-fetch-site': 'none',
        'sec-fetch-mode': 'navigate',
        'sec-fetch-user': '?1',
        'sec-fetch-dest': 'document',
        'accept-language': 'en-US,en;q=0.9',
        'Cookie': 'C=0; O=0; V=cf3b4c6781b13e39469f1facf62bf8cd601107aeeda993.98778493; _gd1611728822789=1; _omappvp=i7z9S2eDRuG9abw74JVTLR2eBQl7jbU3ZwsgQYG0UaPvRxBpNfw76LPhw425DesfPByJBPimoLmGmVxvj77sORr6PVO6iIxJ; sbm_country=US; sbm_sbm_id=0100007FB607116037005E2C0209430F; sbm_dma=753; __gads=ID=70aeb01b4b166700:T=1611728823:S=ALNI_MZBq0k02OOIy8r0nZOIrhxlNMZAyg; _cs_c=1; mcid=65212103744057581533702548828591761866; _ga=GA1.2.565486799.1611728824; _fbp=fb.1.1611728824788.1145623737; _gcl_au=1.1.1287819991.1611728825; adobeujs-optin=%7B%22aam%22%3Atrue%2C%22adcloud%22%3Atrue%2C%22aa%22%3Atrue%2C%22campaign%22%3Atrue%2C%22ecid%22%3Atrue%2C%22livefyre%22%3Atrue%2C%22target%22%3Atrue%2C%22mediaaa%22%3Atrue%7D; AMCVS_3FE7CBC1556605A77F000101%40AdobeOrg=1; s_ecid=MCMID%7C65212103744057581533702548828591761866; sbm_mcid=65212103744057581533702548828591761866; sbm_gaid=565486799.1611728824; LPVID=UwY2YyODc0ODBjZDkwNzcy; U=3a2d04d96b2ab5cb75e3b70108ca7ab2; optimizelyEndUserId=oeu1611728860734r0.3517326847511586; _sdsat_cheggUserUUID=56a1db9e-14dd-47bd-a24f-8493241154d5; _scid=f0075835-bc71-4ac8-8df4-a37e17f96777; _vid=ft90PwMFWcM93mhN4VJq; DFID=web|ft90PwMFWcM93mhN4VJq; _gd1611728868898=1; _gd1611728886837=1; _gd1611728906594=1; _ym_uid=1611728909725514882; _ym_d=1611728909; _gd1611728911187=1; chgcsdmtoken=%7B%22user_uuid%22%3A%2256a1db9e-14dd-47bd-a24f-8493241154d5%22%2C%22created_date%22%3A%222021-01-27T06%3A28%3A34.721Z%22%2C%22account_sharing_device_management%22%3A1%7D; _gd1611729281017=1; _gd1611729577042=1; _gd1611729595330=1; _gd1611729658460=1; _rdt_uuid=1611728824747.9062ad89-6f8e-42b7-897e-60b9078077b7; LPSID-51961742=w3mK_8rKQyKNDRuYrJagiA; user_geo_location=%7B%22country_iso_code%22%3A%22US%22%2C%22country_name%22%3A%22United+States%22%2C%22region%22%3A%22AZ%22%2C%22region_full%22%3A%22Arizona%22%2C%22city_name%22%3A%22Scottsdale%22%2C%22postal_code%22%3A%2285255%22%2C%22locale%22%3A%7B%22localeCode%22%3A%5B%22en-US%22%5D%7D%7D; aamsc=aam%3D2053348%2Caam%3D2756555%2Caam%3D5674360; aam_tnt=aam%3D2053348; aam_uuid=65172399656331676033705343164723721712; WRUID=3268574532240419; _gd1619568359934=1; _gd1619568460369=1; _gd1619568861032=1; _gd1619901511130=1; _gd1619901546025=1; _gd1619901581449=1; _gd1619901593838=1; chgmfatoken=%5B%20%22account_sharing_mfa%22%20%3D%3E%201%2C%20%22user_uuid%22%20%3D%3E%2056a1db9e-14dd-47bd-a24f-8493241154d5%2C%20%22created_date%22%20%3D%3E%202021-05-01T20%3A39%3A58.143Z%20%5D; bc.visitor_token=6794359825263550464; chgcsdetaintoken=1; chgcsastoken=HnGInndMD6YPj70aPG8BQ2nAJWCodmgTw0RrCihUFAjsMs7EUirAw4uRNBL2gRrDlf8Fvkn7kIbvnCE3mY0M7bBi6kAFo1ttLvNkA2tLAs93OVWca84aq7QVSewoH52U; as_ref=https%3A//www.chegg.com/homework-help/questions-and-answers/use-divergence-theorem-calculate-outward-flux-f-r-r-f-r-r-r-x-y-z-r-x-y-z-across-ss-hemisp-q37212786; _gd1619901699722=1; _gd1619901704523=1; _gd1619902024795=1; _gd1619902039980=1; _gd1619916433054=1; _gd1619918357638=1; _gd1620013732870=1; BIBSESSID=f880bbe0-e483-45de-891b-1b6aa40c61eb; _gcl_dc=GCL.1620013737.COm627bNrPACFe0HrQYdcWgEqw; _gd1620013743781=1; _gd1620013765196=1; opt-user-profile=cf3b4c6781b13e39469f1facf62bf8cd601107aeeda993.98778493%252C19745505661%253A19739677275%252C19944471923%253A19956173008%252C19164500882%253A19197110641%252C20101528106%253A20107238770%252C20002140480%253A20015020513; usprivacy=1YNY; OneTrustWPCCPAGoogleOptOut=false; G_ENABLED_IDPS=google; al_cell_writing=2020-04-01--main; al_ff=eyJhbGxvY2F0aW9uTWFwIjp7ImFsX2NlbGxfd3JpdGluZyI6IjIwMjAtMDQtMDEtLW1haW4ifSwiYmZmRWNzIjp0cnVlfQ%3D%3D; _gd1620074896560=1; _gd1620074904101=1; _gd1620074906996=1; _gd1620074907561=1; _gd1620074909603=1; _gd1620074915796=1; _gd1620074935676=1; userRole=mybib; _gd1620075118382=1; uuid230=925e7457-7984-4272-8cb5-8e97ad1064eb; nlid=b333dc2|13b7ba82; nllastdelid=13b7ba82; PHPSESSID=tavebpggro7jq23fu9bqo0cu7t; _gd1620252719765=1; _pxvid=e9a8d4db-adee-11eb-8a71-0242ac120006; id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1NmExZGI5ZS0xNGRkLTQ3YmQtYTI0Zi04NDkzMjQxMTU0ZDUiLCJhdWQiOiJDSEdHIiwiaXNzIjoiaHViLmNoZWdnLmNvbSIsImV4cCI6MTYzNjAyMjcyNCwiaWF0IjoxNjIwMjUyNzI0LCJlbWFpbCI6ImJsYWtlYmVpbkBnbWFpbC5jb20ifQ.liFggl3RN3KQ7i1yk9zwPFd-fr7w7oxFRgBgHBDpTV_HZ7QZLDyOUj7iLdHuduLIQlJ_1cKVzSoGQ5t4qrLhVhkiCzdvYxtNTI8k3blc1DfdO3soc-s7vlVKjr6nMEg7YS4Ph3CY96oPbHacDPS3JU4gyDpsg9Mx_7kZ-hMiAjl6X7b717iUrfdJe0Sf2KKyiTgOn0zLVRB76tPmRX1VF8sJrtuT-4bAvm4UK471m_UFbXfeDWMr7mScGd1sFM35-BaJTH-yGStybzpmNe7HMQFyWrm__Pcx3yFbFNF94hJJdAYqChebubsaK6TWQRrHsJoR1mVVZT0jGpv8C_o8-w; refresh_token=ext.a0.t00.v1.Mc_CpuIHEqGWcXrptq55OObSCDfReHdw8B5VtgLLup209TBr_nOSQNx29JmyHG6VNv_aKYWv5mwyzAP0IWyDPcM; _gd1620252725400=1; al_cell=2021-5-5-wt-main-1-control; CVID=09624489-54b2-4df0-bfce-b4f933a69610; _sp_id.ad8a=af274054-96ee-4fcf-b595-63529999380b.1619918384.4.1620253111.1620075474.4c8819e4-1fe2-4f27-bd5a-84f4b11e6c96; CSessionID=e8dfdf54-07ac-45d4-a2b5-5aac79b056be; SU=ANRnYtNbq1m3AFhPP79zhqL9KPXta8MNlmMVZkXmhCNxk72ToUweLdII9geZJB64DG9LSBI2ZsCCmwINnvZqPNiALcbw24NirU0bqQCuvVX57iApyhMG5n2bLBkdp7qa; exp=A184B%7CA311C%7CA803B%7CC024A%7CA560B%7CA735A%7CA207B%7CA209A%7CA212A%7CA448A%7CA278C%7CA110B%7CA935B%7CA244A%7CA270C%7CA966A; expkey=C1D3006A9F14E51AA6E7011889F90A83; intlPaQExitIntentModal=hide; AMCV_3FE7CBC1556605A77F000101%40AdobeOrg=-408604571%7CMCIDTS%7C18767%7CMCMID%7C65212103744057581533702548828591761866%7CMCAAMLH-1622052197%7C9%7CMCAAMB-1622052197%7CRKhpRz8krg2tLO6pguXWp5olkAcUniQYPHaMWWgdJ3xzPWQmdj0y%7CMCOPTOUT-1621454597s%7CNONE%7CMCAID%7CNONE%7CvVersion%7C4.6.0%7CMCCIDH%7C-1948402183; _sdsat_authState=Soft%20Logged%20In; OptanonConsent=isIABGlobal=false&datestamp=Wed+May+19+2021+11%3A03%3A20+GMT-0700+(Mountain+Standard+Time)&version=6.10.0&hosts=&consentId=21ebd04a-76bd-45f9-9ef3-c306c5d7c886&interactionCount=1&landingPath=NotLandingPage&groups=snc%3A1%2Cfnc%3A1%2Cprf%3A1%2CSPD_BG%3A1%2Ctrg%3A1&AwaitingReconsent=false; 56a1db9e-14dd-47bd-a24f-8493241154d5_TMXCookie=true; _sdsat_highestContentConfidence={%22course_uuid%22:%2234ea71f9-d2c1-43dc-be61-f18cf22bc064%22%2C%22course_name%22:%22calculus-1-2-3%22%2C%22confidence%22:0.3574%2C%22year_in_school%22:%22college-year-1%22%2C%22subject%22:[{%22uuid%22:%2204e5ff34-ba6f-4746-9290-c6f81e65edd4%22%2C%22name%22:%22calculus%22}]}; _gid=GA1.2.1489582945.1621447402; _uetsid=7f86a300b8cc11ebbe089d297cb6de2a; _uetvid=71677270a24b11ebafcdaf76227073e0; wcs_bt=s_4544d378d9e5:1621447401; _sctr=1|1621407600000; _cs_cvars=%7B%221%22%3A%5B%22Page%20Name%22%2C%22Question%20Page%22%5D%2C%222%22%3A%5B%22Experience%22%2C%22desktop%22%5D%2C%223%22%3A%5B%22Page%20Type%22%2C%22pdp%22%5D%2C%224%22%3A%5B%22Auth%20Status%22%2C%22Soft%20Logged%20In%22%5D%7D; __CT_Data=gpv=78&ckp=tld&dm=chegg.com&apv_79_www33=82&cpv_79_www33=82&rpv_79_www33=20; s_pers=%20buFirstVisit%3Dcs%252Ccore%252Cothers%252Ccw%252Ctb%252Chelp%7C1777841616865%3B%20gpv_v6%3Dchegg%257Cweb%257Ccs%257Cqa%257Cquestion%2520page%7C1621449296037%3B; s_sess=%20buVisited%3Dcs%252Ccore%252Cothers%252Ccw%252Ctb%252Chelp%3B%20s_sq%3D%3B%20s_cc%3Dtrue%3B%20s_ptc%3D0.01%255E%255E0.04%255E%255E0.01%255E%255E0.03%255E%255E0.89%255E%255E0.01%255E%255E3.99%255E%255E0.18%255E%255E5.17%3B%20cheggCTALink%3Dfalse%3B%20SDID%3D29C80232B2DE8396-5A0CCE86603AF281%3B; _cs_id=03a1086d-e151-ac0c-86d8-95035c439592.1618973047.13.1621449295.1621449295.1.1653137047521.Lax.0; _cs_s=1.1; _px3=0bc47d970239c051bf8bfea0503f30a605314b010e69e9958e21369da78e5a23:ydzl3u8t4gKtWsxS4gQki9VvcNbkXgAKizHr5evWHr7MQuTfCdY//4a5zW1ub62qQ+Sb8UIZcoDCDJgzymDjqg==:1000:7weXuQJs71EKJ/RCKDNlRmJQfyxyJC5xWar6hg1g/1AEt7XUWgdRrt44iO0nFB4NdbojPyCVpiPfX6MwjIOA3qQapST1KO5Bq7iuD8Ha383PDYE4HdTaSiqBTVpbRXbpppc/19uV6xdqumlCIfLP0vgrVno0sxyyNlzMLs9APcGZZvoSDp+qV2tXh3NT//9JcJA+eooV4vMQdMk66kJaNg==; _px=ydzl3u8t4gKtWsxS4gQki9VvcNbkXgAKizHr5evWHr7MQuTfCdY//4a5zW1ub62qQ+Sb8UIZcoDCDJgzymDjqg==:1000:AGbKEjwW/0BRMU55fJJFyCDdh0fLR+UD78E78Xtac2xpS3RLso7mcjBOzGvwm2RpYQ2Hf9Y/qu8lnt3aEYcJ1Q5LPWK1kLwyfSQGhA1qJItfsRdiqy526D/1T3Qmx9JqkPoHTwh2euu9GWTyrQML4wmke/9Ri5ZtU6wQXWAVv9NZp5AjFnXgnCshFvSEUlfwtFMvdmMi0RkCqFWIUytuVjeurvXGZ3eyVCM+yzOkntcCgbsCmHZOWqdA5QT8qIhfUhZg+xCCP8lgVP4RmhBnoA=='
    }
})    .then(res => res.text())
.then(body => {
    //toHTML('webiste.html',body)
    const $ = cheerio.load(body)

    let question = $("body > div.chg-body.no-nav.no-subnav.header-nav > div.chg-container.center-content > div.chg-container-content > div.chg-global-content > div > div.parent-container.question-headline > div.main-content.question-page > div.dialog-question > div.question.txt-small > div.txt-body.question-body.mod-parent-container > div.ugc-base.question-body-text").text()
    let answer = $('body > div.chg-body.no-nav.no-subnav.header-nav > div.chg-container.center-content > div.chg-container-content > div.chg-global-content > div > div.parent-container.question-headline > div.main-content.question-page > div.dialog-question > div.answers-wrap > ul > li > div.answer.txt-small.mod-parent-container > div.txt-body.answer-body > div.answer-given-body.ugc-base').html();
    //console.log(question)
    //console.log(answer)
    toHTML('answer.html',answer)
    console.log('Time elapsed:', new Date().getTime() - start_time);
});
